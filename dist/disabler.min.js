/* disabler.js - Copyright 2015 Gary Green. Licensed under the Apache License, Version 2.0 */function Disabler(t,e){this.$element=$(t),this.options=$.extend({},this.defaults,e),this.start()}Disabler.prototype={defaults:{timeout:5e4,html:'<i class="fa fa-circle-o-notch fa-spin"></i> Loading...'},start:function(){this.disable(),this.timer=setTimeout($.proxy(function(){this.enable()},this),this.options.timeout)},disable:function(){this.$element.prop("disabled",!0),this.addHtml()},enable:function(){this.$element.prop("disabled",!1),this.removeHtml()},addHtml:function(){return this.options.html.length?(this.oldHtml=this.$element.html(),this.$element.html(this.options.html),void 0):!1},removeHtml:function(){this.oldHtml&&(this.$element.html(this.oldHtml),this.oldHtml="")},destroy:function(){this.timer&&clearTimeout(this.timer),this.enable(),this.removeHtml()}},$.fn.disabler=function(t){t=t||{};var e="disabler";return $(this).each(function(){var i=$(this),s=i.data(e);s&&(s.destroy(),delete s),s=new Disabler(this,t),i.data(e,s)})};