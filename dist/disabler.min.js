/* disabler.js - Copyright 2015 Gary Green. Licensed under the Apache License, Version 2.0 */function Disabler(t,i){this.$element=$(t),this.options=$.extend({},this.defaults,i),this.start()}Disabler.prototype={defaults:{timeout:5e4,icon:'<i class="fa fa-circle-o-notch fa-spin"></i> ',html:function(){return this.defaults.icon+"Loading..."}},start:function(){this.disable(),this.timer=setTimeout($.proxy(function(){this.enable()},this),this.options.timeout)},disable:function(){setTimeout($.proxy(function(){this.$element.prop("disabled",!0),this.addHtml()},this),0)},enable:function(){this.$element.prop("disabled",!1),this.removeHtml()},getHtml:function(){var t=this.options.html;return $.isFunction(t)&&(t=t.call(this,this.$element)),t},addHtml:function(){var t=this.getHtml();return t.length?(this.oldHtml=this.$element.html(),this.$element.html(t),void 0):!1},removeHtml:function(){this.oldHtml&&(this.$element.html(this.oldHtml),this.oldHtml="")},destroy:function(){this.timer&&clearTimeout(this.timer),this.enable(),this.removeHtml()}},$.fn.disabler=function(t){t=t||{};var i="ggdisabler";return $(this).each(function(){var e=$(this),s=e.data(i);s&&(s.destroy(),delete s),s=new Disabler(this,t),e.data(i,s)})};