var Disabler=function(){"use strict";function Disabler(element,options){this.init(element,options)}Disabler.prototype={defaults:{timeout:2e4,html:undefined,auto:false},init:function(element,options){this.element=element;this.setOptions(options);if(this.options.auto){this.debounce()}else{this.bindEvents()}},setOptions:function(options){this.options=this._simpleMerge(this.defaults,options);var loadingMessage=this.element.getAttribute("data-disabler");if(options.html===undefined&&typeof loadingMessage==="string"&&loadingMessage.length){this.options.html=loadingMessage}},bindEvents:function(){this.element.addEventListener("click",this.debounce.bind(this))},debounce:function(){setTimeout(this.disable.bind(this),0);this.timer=setTimeout(this.enable.bind(this),this.options.timeout)},getHtml:function(){var html=this.options.html;if(typeof html==="function"){html=html.call(this,this.element)}return html},disable:function(){this.element.disabled=true;var html=this.getHtml();if(html===undefined)return;this.oldHtml=this.element.innerHTML;this.element.innerHTML=html},enable:function(){if(this.timer){clearTimeout(this.timer)}this.element.disabled=false;this.element.innerHTML=this.oldHtml;this.oldHtml=""},_simpleMerge:function(obj1,obj2){var ret=Object.create(obj1),prop;for(prop in obj2){ret[prop]=obj2[prop]}return ret}};return Disabler}();